<!DOCTYPE html><html dir="ltr" lang="en-US"><head>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="author" content="Chris Rocco">

    <!-- Stylesheets
    ============================================= -->
    <link href="http://fonts.googleapis.com/css?family=Lato:300,400,400italic,600,700|Raleway:300,400,500,600,700|Crete+Round:400italic" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel="stylesheet" href="css/dark.css" type="text/css">
    <link rel="stylesheet" href="css/font-icons.css" type="text/css">
    <link rel="stylesheet" href="css/animate.css" type="text/css">
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css">

    <link rel="stylesheet" href="css/responsive.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Sweet Alert -->
    <link rel="stylesheet" href="node_modules/sweetalert/dist/sweetalert.css" type="text/css">
    <script src="node_modules/sweetalert/dist/sweetalert.min.js"></script>

    <script src="es/dist/bundle.js"></script>

    <!-- Document Title
    ============================================= -->
    <title>Login | The Christmas Carolers</title>

</head>

<body class="stretched">

<!-- Document Wrapper
============================================= -->
<div id="wrapper" class="clearfix">

    <!-- Header
    ============================================= -->
    <header id="header" class="full-header dark"><div id="header-wrap">
    <div class="container clearfix">
        <div id="primary-menu-trigger"><i class="icon-reorder"></i></div>
        <!-- Logo
        ============================================= -->
        <div id="logo">
            <a href="javascript:navService.goto(&apos;home&apos;)" data-dark-logo="images/tcc-logo.png" class="standard-logo"><img src="images/tcc-logo.png" alt="TCC Logo"></a>
            <a href="javascript:navService.goto(&apos;home&apos;)" data-dark-logo="images/tcc-logo.png" class="retina-logo"><img src="images/tcc-logo.png" alt="TCC Logo"></a>
        </div><!-- #logo end -->
        <!-- Account
        ============================================= -->
        <div id="top-account" class="dropdown">
            <a href="javascript:navService.goto(&apos;auth&apos;)" id="login-register" class="btn btn-default">Login / Register</a>
            <a href="#" id="my-account" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" style="display: none"><i class="icon-user"></i><i class="icon-angle-down"></i></a>
            <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
                <li><a href="javascript:navService.goto(&apos;profile&apos;)">Profile</a></li>
                <li><a href="javascript:navService.goto(&apos;my_events&apos;)">My Events</a></li>
                <li class="tcc_if_admin tcc_if_director divider" role="separator"></li>
                <li class="tcc_if_admin tcc_if_director"><a href="javascript:navService.goto(&apos;manage_markets&apos;)">Manage Markets</a></li>
                <li class="tcc_if_caroler divider" role="separator"></li>
                <li class="tcc_if_caroler"><a href="javascript:navService.goto(&apos;caroler_dashboard&apos;)">Caroler Dashboard</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="javascript:logout()">Logout <i class="icon-signout"></i></a></li>
            </ul>
        </div>

        <!-- Primary Navigation
        ============================================= -->
        <nav id="primary-menu">
            <ul>
                <li>
                    <a href="javascript:navService.goto(&apos;home&apos;)">
                        <div>Home</div>
                    </a>
                </li>
                <li>
                    <a href="javascript:navService.goto(&apos;find_market&apos;)">
                        <div>Find a Market</div>
                    </a>
                </li>
                <li>
                    <a href="javascript:navService.goto(&apos;about&apos;)">
                        <div>About</div>
                    </a>
                </li>
                <li>
                    <a href="javascript:navService.goto(&apos;contact&apos;)">
                        <div>Contact</div>
                    </a>
                </li>
                <li>
                    <a href="javascript:navService.goto(&apos;faq&apos;)">
                        <div>FAQs</div>
                    </a>
                </li>
            </ul>
        </nav><!-- #primary-menu end -->
    </div>
</div></header><!-- #header end -->

    <!-- Page Title
    ============================================= -->
    <section id="page-title">

        <div class="container clearfix">
            <h1>My Account</h1>
            <ol class="breadcrumb">
                <li><a href="#">Home</a></li>
                <li class="active">Login / Register</li>
            </ol>
        </div>

    </section><!-- #page-title end -->

    <!-- Content
    ============================================= -->
    <section id="content">

        <div class="content-wrap">

            <div class="container clearfix">

                <div class="col_one_third nobottommargin">

                    <div class="well well-lg nobottommargin">
                        <form id="login-form" name="login-form" class="nobottommargin" action="#" method="post" onsubmit="return login()">

                            <h3>Login to your Account</h3>

                            <div class="col_full">
                                <label for="login-form-username">Username:</label>
                                <input type="email" required id="login-form-username" name="login-form-username" value="" class="form-control">
                            </div>

                            <div class="col_full">
                                <label for="login-form-password">Password:</label>
                                <input type="password" required id="login-form-password" name="login-form-password" value="" class="form-control">
                            </div>

                            <div class="col_full nobottommargin">
                                <button class="button button-3d nomargin" id="login-form-submit" name="login-form-submit" value="login">Login
                                </button>
                                <a href="#" class="fright">Forgot Password?</a>
                            </div>

                        </form>
                    </div>

                </div>

                <div class="col_two_third col_last nobottommargin">


                    <h3>Don&apos;t have an Account? Register Now.</h3>

                    <p>You can expect superior quality when you hire the Christmas Carolers. We cherry-pick our talented
                        singers from music schools across the country.
                        All our carolers are dressed in professionally-designed and award-winning
                        Victorian-styled costumes that invoke the spirit of the season. Our carolers certainly know how
                        to stand out in a crowd!</p>

                    <form id="register-form" onsubmit="return register()" name="register-form" class="nobottommargin" action="#" method="post">

                        <div class="col_half">
                            <label for="register-form-name">Name:</label>
                            <input required type="text" id="register-form-name" name="register-form-name" class="form-control">
                        </div>

                        <div class="col_half col_last">
                            <label for="register-form-email">Email Address:</label>
                            <input required type="email" id="register-form-email" name="register-form-email" value="" class="email form-control">
                        </div>

                        <div class="clear"></div>

                        <div class="col_half">
                            <label for="register-form-password">Choose Password:</label>
                            <input type="password" id="register-form-password" name="register-form-password" value="" class="form-control">
                        </div>

                        <div class="col_half col_last">
                            <label for="register-form-repassword">Re-enter Password:</label>
                            <input type="password" id="register-form-repassword" name="register-form-repassword" value="" class="form-control">
                        </div>

                        <div class="clear"></div>

                        <div class="col_full nobottommargin">
                            <button class="button button-3d button-black nomargin" id="register-form-submit" name="register-form-submit" value="register">Register Now
                            </button>
                        </div>

                    </form>

                </div>

            </div>

        </div>

    </section><!-- #content end -->

    <!-- Footer
    ============================================= -->
    <footer id="footer" class="dark notopborder">

    <div class="container">

        <!-- Footer Widgets
        ============================================= -->
        <div class="footer-widgets-wrap clearfix">

            <div class="row clearfix">

                <div class="col-md-3">
                    <img src="images/tcc-logo.png">
                </div>
                <div class="col-md-4">
                    <div class="widget clearfix">
                        <div class="row">

                            <div class="col-xs-6 widget_links">
                                <ul>
                                    <li><a href="#">Home</a></li>
                                    <li><a href="#">About</a></li>
                                    <li><a href="#">FAQs</a></li>
                                    <li><a href="#">Support</a></li>
                                    <li><a href="#">Contact</a></li>
                                </ul>
                            </div>

                            <div class="col-xs-6 widget_links">
                                <ul>
                                    <li><a href="#">Shop</a></li>
                                    <li><a href="#">Portfolio</a></li>
                                    <li><a href="#">Blog</a></li>
                                    <li><a href="#">Events</a></li>
                                    <li><a href="#">Forums</a></li>
                                </ul>
                            </div>

                        </div>
                    </div>
                    <div class="visible-sm bottommargin-sm"></div>
                </div>
                <div class="col-md-5">
                    <div class="widget subscribe-widget clearfix">
                        <h4>Subscribe to Our Newsletter</h4>
                        <p>Get Important Offers and Deals directly to your Email Inbox. <em>We never send spam!</em></p>
                        <div class="widget-subscribe-form-result"></div>
                        <form id="widget-subscribe-form" role="form" method="post" class="nobottommargin">
                            <div style="margin-bottom: -10px;">
                                <div class="row">
                                    <div class="col-sm-9" style="margin-bottom:10px;">
                                        <input type="email" id="widget-subscribe-form-email" name="widget-subscribe-form-email" class="form-control not-dark required email" placeholder="Enter your Email">
                                    </div>
                                    <div class="col-sm-3" style="margin-bottom:10px;">
                                        <button class="btn btn-block btn-success" type="submit">Subscribe</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div>

            <div class="line"></div>

            <div class="row clearfix">

                <div class="col-md-7 col-sm-6">
                    <div class="widget clearfix">
                        <div class="clear-bottommargin-sm">
                            <div class="row clearfix">

                                <div class="col-md-6">
                                    <div class="footer-big-contacts">
                                        <span>Call Us:</span>
                                        +1 (800) 833-CAROLER
                                    </div>
                                    <div class="visible-sm visible-xs bottommargin-sm"></div>
                                </div>

                                <div class="col-md-6">
                                    <div class="footer-big-contacts">
                                        <span>Send an Email:</span>
                                        info@thechristmascarolers.com
                                    </div>
                                    <div class="visible-xs bottommargin-sm"></div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="visible-sm visible-xs bottommargin-sm"></div>
                </div>

                <div class="col-md-5 col-sm-6">

                    <div class="clearfix" data-class-lg="fright" data-class-md="fright" data-class-sm="fright" data-class-xs="" data-class-xxs="">
                        <a href="#" class="social-icon si-rounded si-small si-colored si-facebook">
                            <i class="icon-facebook"></i>
                            <i class="icon-facebook"></i>
                        </a>

                        <a href="#" class="social-icon si-rounded si-small si-colored si-twitter">
                            <i class="icon-twitter"></i>
                            <i class="icon-twitter"></i>
                        </a>

                        <a href="#" class="social-icon si-rounded si-small si-colored si-gplus">
                            <i class="icon-gplus"></i>
                            <i class="icon-gplus"></i>
                        </a>

                        <a href="#" class="social-icon si-rounded si-small si-colored si-pinterest">
                            <i class="icon-pinterest"></i>
                            <i class="icon-pinterest"></i>
                        </a>

                        <a href="#" class="social-icon si-rounded si-small si-colored si-vimeo">
                            <i class="icon-vimeo"></i>
                            <i class="icon-vimeo"></i>
                        </a>

                        <a href="#" class="social-icon si-rounded si-small si-colored si-github">
                            <i class="icon-github"></i>
                            <i class="icon-github"></i>
                        </a>

                        <a href="#" class="social-icon si-rounded si-small si-colored si-yahoo">
                            <i class="icon-yahoo"></i>
                            <i class="icon-yahoo"></i>
                        </a>

                        <a href="#" class="social-icon si-rounded si-small si-colored si-linkedin">
                            <i class="icon-linkedin"></i>
                            <i class="icon-linkedin"></i>
                        </a>
                    </div>

                </div>

            </div>

        </div>
    </div>
</footer><!-- #footer end -->

</div><!-- #wrapper end -->

<!-- Go To Top
============================================= -->
<div id="gotoTop" class="icon-angle-up"></div>

<!-- External JavaScripts
============================================= -->
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/plugins.js"></script>

<!-- Footer Scripts
============================================= -->
<script type="text/javascript" src="js/functions.js"></script>
<script>
    function login() {
        var email = $("#login-form-username").val();
        var password = $("#login-form-password").val();
        var p = authService.login(email, password);
        p.then(function (res) {
            console.log("win", res);
            window.location = "index.html";
        });
        p.catch(function (err) {
            console.log("fail", err.response);
            if(err.response.status === 403){
                swal("Not so Fast!", "You need to validate your email first.", "warning");
                return;
            }
            if(err.response.status === 401){
                swal("Invalid Login", "Try Again.", "error");
                return;
            }
            swal({
                title: "Oops..",
                text: "Something went wrong",
                type: "error",
                showCancelButton: false,
                confirmButtonClass: "btn-danger",
                confirmButtonText: 'OK :(',
                closeOnConfirm: false
            });
        });
        return false;
    }
    function register() {
        var name = $("#register-form-name").val();
        var email = $("#register-form-email").val();
        var password = $("#register-form-password").val();
        var repassword = $("#register-form-repassword").val();

        if (password !== repassword) {
            swal({
                title: "Oops!",
                text: "Those passwords don't match!",
                type: "error",
                showCancelButton: false,
                confirmButtonClass: "btn-warning",
                confirmButtonText: 'OK',
                closeOnConfirm: false
            });
            return false;
        }

        var p = authService.register(name, email, password);
        p.then(function (res) {
            console.log("win", res);
            swal({
                title: "Success!",
                text: "You have been registered. Please check your email to validate your account. Welcome to The Christmas Carolers!",
                type: "success",
                showCancelButton: false,
                confirmButtonClass: "btn-success",
                confirmButtonText: 'OK',
                closeOnConfirm: false
            }, function () {
                window.location = "index.html";
            });
        });
        p.catch(function (err) {
            if(err.response.status === 409){
                swal("Wait a Minute!", "There's already an account with that email", "warning");
                return;
            }
            swal({
                title: "Oops!",
                text: "Something went wrong!",
                type: "error",
                showCancelButton: false,
                confirmButtonClass: "btn-warning",
                confirmButtonText: 'Ok :(',
                closeOnConfirm: false
            });
        });

        return false;
    }
</script>

</body></html>