/*!
 * tcc-app (https://github.com/vector-web-development/tcc-client)
 * Copyright 2017 chrisrocco
 * Licensed under the Themeforest Standard Licenses
 */

!function(global,factory){if("function"==typeof define&&define.amd)define("/AuthService",["exports","src/es/ApplicationSettings"],factory);else if("undefined"!=typeof exports)factory(exports,require("src/es/ApplicationSettings"));else{var mod={exports:{}};factory(mod.exports,global.ApplicationSettings),global.AuthService=mod.exports}}(this,function(exports,_ApplicationSettings){"use strict";function login(email,password,win,fail){return $.ajax({url:TOKEN_PROVIDER,method:"POST",data:{email:email,password:password},dataType:"json"}).success(function(data){localStorage.api_token=data.token,localStorage.user=JSON.stringify(data.user),win()})}function register(firstName,lastName,email,password){return $.ajax({url:REGISTER,method:"POST",data:{first_name:firstName,last_name:lastName,email:email,password:password}})}function logout(){delete localStorage.api_token}function getUser(){if(localStorage.user){var json=localStorage.user;return JSON.parse(json)}}function getToken(){return localStorage.api_token}function hasRole(role){var user=getUser();return!!user&&(!!user.roles&&-1!==user.roles.indexOf(role))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasRole=exports.getToken=exports.getUser=exports.logout=exports.register=exports.login=void 0;var ApplicationSettings=babelHelpers.interopRequireWildcard(_ApplicationSettings),TOKEN_PROVIDER=ApplicationSettings.getUrl("login"),REGISTER=ApplicationSettings.getUrl("register");exports.login=login,exports.register=register,exports.logout=logout,exports.getUser=getUser,exports.getToken=getToken,exports.hasRole=hasRole});